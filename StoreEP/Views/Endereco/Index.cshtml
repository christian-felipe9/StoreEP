@model IEnumerable<Endereco>
@{
    ViewBag.Title = "Lista de Endereços";
    Layout = "_Layout";
    var enderecoUtilizado = Model.Select(e => e.DataUtilizacao).Max();
}
<style>
    .card {
        box-shadow: 0px 0px 2px #8f8f8f;
        padding: 10px;
        margin: 10px;
    }
</style>
<div class="container">
    @if (TempData["endereco"] != null)
    {
        <div class="alert alert-success">
            <strong>@TempData["endereco"]</strong>
        </div>
    }
    <div class="row">
        @foreach (var endereco in Model)
        {
            <div class="card col col-sm-3"
                 style="@(endereco.DataUtilizacao == enderecoUtilizado ? "box-shadow: 1px 1px 4px #006555, 1px 1px 4px #14673a;" : "box-shadow: 0px 0px 2px #8f8f8f;") ">
                <div class="card-body">
                    <div class="card-header">
                        @endereco.Estado<br>
                    </div>
                    <h5>
                        @endereco.Rua,
                        @endereco.Numero<br>
                        @endereco.Bairro<br>
                        @endereco.Cidade<br>
                        @endereco.CEP<br>
                    </h5>
                </div>
                <div>
                    <a asp-action="Utilizar"
                       asp-controller="Endereco"
                       asp-route-enderecoId="@endereco.EnderecoID"
                       style="right:10px; margin: 4px;"
                       title="Usar este endereço">
                        <span class="glyphicon glyphicon-send"></span>
                    </a>
                    <a asp-action="Apagar"
                       asp-controller="Endereco"
                       asp-route-enderecoId="@endereco.EnderecoID"
                       style="right:10px; margin: 4px;"
                       title="Apagar endereço">
                        <span class="glyphicon glyphicon-trash"></span>
                    </a>
                </div>
            </div>
        }
    </div>
    <div class="text-center">
        <a asp-controller="Endereco" asp-action="Criar" class="btn btn-default btn-xs btn-success">Criar novo</a>
        <a asp-controller="Pedido" asp-action="Finalizar" class="btn btn-default btn-xs btn-primary">Finalizar pedido</a>
    </div>
</div>
@*<script>
    var teste = "@enderecoUtilizado";
        console.log(teste);
</script>*@
